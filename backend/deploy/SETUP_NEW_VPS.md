# üÜï –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ VPS - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üìã –ß—Ç–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ –Ω–æ–≤—ã–π VPS:

- **–°—Ç–∞—Ä—ã–π VPS**: 185.104.248.130
- **–ù–æ–≤—ã–π VPS**: 159.255.37.158 (vm3737624.firstbyte.club)
- **Synology**: 192.168.100.222 (–ª–æ–∫–∞–ª—å–Ω—ã–π IP)
- **Backend –ø–æ—Ä—Ç**: 5000 (–≤–º–µ—Å—Ç–æ 5001)

## ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `backend/deploy/config.sh` - –æ–±–Ω–æ–≤–ª—ë–Ω VPS IP, –ø–æ—Ä—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `backend/vps/synology-port-forward.sh` - –æ–±–Ω–æ–≤–ª—ë–Ω IP –∏ –ø–æ—Ä—Ç—ã
- `backend/env.example` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã BACKEND_URL

### –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è:
- `backend/deploy/full_deploy.sh` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Synology
- `backend/deploy/vps_setup.sh` - –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –Ω–æ–≤–æ–≥–æ VPS
- `backend/deploy/synology_deploy.sh` - —É–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ health endpoint

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ config.sh

```bash
cd backend/deploy
nano config.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ:
- `VPS_IP="159.255.37.158"`
- `SYNO_HOST="192.168.100.222"`
- `GITHUB_REPO_URL="https://github.com/hotwellkz/p041.git"` (–≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π

```bash
cd backend/deploy
chmod +x *.sh
./full_deploy.sh
```

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é

### –í config.sh:
- `GITHUB_REPO_URL` - URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –í .env –Ω–∞ Synology (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è):
- `FIREBASE_SERVICE_ACCOUNT` –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ Firebase –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `TELEGRAM_API_ID`, `TELEGRAM_API_HASH`
- `TELEGRAM_SESSION_SECRET` (64 hex —Å–∏–º–≤–æ–ª–∞)
- `SYNX_CHAT_ID`
- `BACKEND_URL` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è, –Ω–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# Health check
curl http://159.255.37.158:5000/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"ok":true}
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `backend/deploy/DEPLOY_README.md`
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: `backend/deploy/QUICK_START.md`

---

**–ì–æ—Ç–æ–≤–æ! –ù–æ–≤—ã–π VPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω! üéâ**





